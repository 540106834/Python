好的，我们来系统讲解 **Python 的条件语句（if / elif / else）**，并结合运维和日常脚本场景给出示例，便于理解和实践。

---

# **一、条件语句概念**

条件语句用于根据条件 **决定程序执行哪段代码**。
语法结构如下：

```python
if 条件1:
    # 条件1为True时执行
    执行语句1
elif 条件2:
    # 条件2为True时执行
    执行语句2
else:
    # 上面条件都不满足时执行
    执行语句3
```

* `if`：主条件
* `elif`：可选的“否则如果”，可多个
* `else`：所有条件都不满足时执行

---

# **二、条件语句示例**

### **示例 1：检查 CPU 使用率**

```python
import psutil

cpu = psutil.cpu_percent(interval=1)

if cpu < 50:
    print("CPU 使用正常")
elif cpu < 80:
    print("CPU 使用偏高")
else:
    print("CPU 使用过高，注意告警")
```

✅ **讲解**：

* 条件表达式可以使用比较运算符 `<, <=, >, >=, ==, !=`
* 先判断最小条件，再判断次优条件
* `else` 捕获剩余情况

---

### **示例 2：检查文件是否存在**

```python
import os

file_path = "/var/log/myapp.log"

if os.path.exists(file_path):
    print("日志文件存在")
else:
    print("日志文件不存在")
```

---

### **示例 3：多条件组合（逻辑运算符）**

```python
disk_usage = 85
cpu_usage = 70

if disk_usage > 80 and cpu_usage > 75:
    print("磁盘和CPU都高，请立即处理")
elif disk_usage > 80 or cpu_usage > 75:
    print("磁盘或CPU偏高，请关注")
else:
    print("系统状态正常")
```

✅ **讲解**：

* `and` 两者都为 True 才为 True
* `or` 任意一个为 True 就为 True
* `not` 可以取反，例如 `if not os.path.exists(file_path)`

---

### **示例 4：嵌套条件**

```python
mem_usage = 65

if mem_usage > 80:
    print("内存使用过高")
else:
    if mem_usage > 60:
        print("内存使用偏高")
    else:
        print("内存使用正常")
```

✅ **讲解**：

* 条件可以嵌套，但建议使用 `elif` 简化结构

---

# **三、条件语句在运维脚本的应用**

1. **CPU/内存/磁盘监控告警**

   * 根据阈值输出不同等级告警

2. **文件和日志管理**

   * 判断文件是否存在
   * 判断日志文件大小是否超过阈值

3. **批量处理判断**

   * 遍历服务器列表，判断服务是否运行
   * 根据状态执行不同操作（重启/告警/跳过）

---

# **四、练习题**

1. **CPU 状态判断**：

   * 输入 CPU 使用率，输出 `"正常"` (<50)，`"偏高"` (50-80)，`"过高"` (>80)

2. **文件检查**：

   * 判断 `/tmp/test.txt` 是否存在，存在输出 `"存在"`，不存在输出 `"不存在"`

3. **端口检查**：

   * 假设服务端口 80，判断变量 `port_status` 是否为 True

     * True 输出 `"服务运行"`
     * False 输出 `"服务未运行"`

---

如果你愿意，我可以帮你整理一份 **条件语句综合练习题及参考答案**，覆盖 **if / elif / else、逻辑运算、嵌套条件**，便于你实际操作练习。

你希望我整理吗？


好的，我帮你整理了一份 **Python 条件语句（if/elif/else）综合练习题及参考答案**，覆盖基础判断、逻辑运算、嵌套条件和运维场景。每题附带详细讲解，方便动手练习。

---

# **一、条件语句综合练习题**

---

### **题目 1：CPU 使用率告警**

根据 CPU 使用率 `cpu` 输出状态：

* 小于 50 → `"CPU 使用正常"`
* 50~79 → `"CPU 使用偏高"`
* 80 及以上 → `"CPU 使用过高"`

```python
cpu = 75  # 可修改测试不同值
```

---

### **题目 2：文件存在检查**

判断 `/tmp/test.log` 文件是否存在：

* 存在 → `"日志文件存在"`
* 不存在 → `"日志文件不存在"`

---

### **题目 3：服务端口状态**

假设服务端口状态变量 `port_status`：

* True → `"服务运行"`
* False → `"服务未运行"`

```python
port_status = False  # 可修改 True/False 测试
```

---

### **题目 4：磁盘和 CPU 综合告警**

* `disk_usage` 表示磁盘使用率
* `cpu_usage` 表示 CPU 使用率

输出规则：

1. 磁盘 > 80 且 CPU > 75 → `"磁盘和CPU都高，请立即处理"`
2. 磁盘 > 80 或 CPU > 75 → `"磁盘或CPU偏高，请关注"`
3. 否则 → `"系统状态正常"`

---

### **题目 5：嵌套条件判断**

* `mem_usage` 表示内存使用率

输出规则：

* 内存 > 80 → `"内存使用过高"`
* 内存 61~80 → `"内存使用偏高"`
* 内存 ≤ 60 → `"内存使用正常"`

---

# **二、条件语句参考答案及讲解**

---

### **题目 1：CPU 使用率告警**

```python
cpu = 75

if cpu < 50:
    print("CPU 使用正常")
elif cpu < 80:
    print("CPU 使用偏高")
else:
    print("CPU 使用过高")
```

✅ **讲解**：

* 先判断最小条件 `<50`
* `elif` 判断中间区间 `<80`
* `else` 捕获剩余情况 `>=80`

---

### **题目 2：文件存在检查**

```python
import os

file_path = "/tmp/test.log"

if os.path.exists(file_path):
    print("日志文件存在")
else:
    print("日志文件不存在")
```

✅ **讲解**：

* `os.path.exists()` 返回布尔值
* 根据结果选择输出信息

---

### **题目 3：服务端口状态**

```python
port_status = False

if port_status:
    print("服务运行")
else:
    print("服务未运行")
```

✅ **讲解**：

* 变量本身是布尔值，可直接用于条件判断
* True → if 分支，False → else 分支

---

### **题目 4：磁盘和 CPU 综合告警**

```python
disk_usage = 85
cpu_usage = 70

if disk_usage > 80 and cpu_usage > 75:
    print("磁盘和CPU都高，请立即处理")
elif disk_usage > 80 or cpu_usage > 75:
    print("磁盘或CPU偏高，请关注")
else:
    print("系统状态正常")
```

✅ **讲解**：

* 使用逻辑运算符 `and` / `or`
* `and` 两个条件都满足
* `or` 任意一个条件满足

---

### **题目 5：嵌套条件判断**

```python
mem_usage = 65

if mem_usage > 80:
    print("内存使用过高")
elif mem_usage > 60:
    print("内存使用偏高")
else:
    print("内存使用正常")
```

✅ **讲解**：

* `elif` 可以代替嵌套 if，代码更简洁
* 条件按顺序判断，先满足条件的分支执行

---

# **三、拓展练习建议**

1. **多条件逻辑**：

   * 同时判断 CPU、内存、磁盘三个指标，输出综合告警等级

2. **嵌套条件**：

   * 根据服务类型和端口状态输出不同信息，例如 Web 服务或数据库服务

3. **结合循环**：

   * 遍历服务器列表，每台服务器判断 CPU 和内存状态

---

如果你愿意，我可以帮你整理一份 **“条件语句 + 循环 + 函数综合运维练习题”**，把 **if/elif/else、for/while、函数封装**结合成完整运维脚本练习，非常适合动手实战。

你希望我整理这份综合练习题吗？
