明白了！我们来系统讲解 **Python 的循环语句（for / while）**，并结合运维脚本场景给出示例，便于理解和动手练习。

---

# **一、循环语句概念**

循环语句用于 **重复执行某段代码**，直到条件不满足为止。

Python 中主要有两种循环语句：

1. **for 循环**：遍历序列（列表、元组、集合、字典）或生成的数字序列。
2. **while 循环**：根据条件表达式是否为 True 决定是否继续执行。

---

# **二、for 循环**

### **基本语法**

```python
for 变量 in 序列:
    循环体
```

* 遍历列表、元组、集合、字典等
* `range()` 用于生成数字序列

### **示例 1：遍历列表**

```python
servers = ["web01", "db01", "cache01"]

for server in servers:
    print(f"{server} 正在检查状态")
```

✅ **讲解**：

* 循环依次访问列表中的每个元素
* 常用于批量处理服务器、文件或服务

---

### **示例 2：遍历数字序列**

```python
for i in range(1, 6):
    print(f"第 {i} 次循环")
```

* `range(start, end)` 生成从 start 到 end-1 的整数序列
* 可加步长：`range(0, 10, 2)` → 0, 2, 4, 6, 8

---

### **示例 3：字典遍历**

```python
services = {"web": 80, "db": 3306, "cache": 6379}

for name, port in services.items():
    print(f"服务 {name} 端口: {port}")
```

✅ **讲解**：

* `dict.items()` 同时获取键和值
* 常用于批量检查服务端口或配置

---

# **三、while 循环**

### **基本语法**

```python
while 条件:
    循环体
```

* 条件为 True 时执行循环
* 循环结束需修改条件，否则可能死循环

### **示例 1：计数循环**

```python
count = 0
while count < 5:
    print(f"当前计数: {count}")
    count += 1
```

---

### **示例 2：等待服务启动**

```python
import time

service_up = False
attempt = 0

while not service_up and attempt < 5:
    print("等待服务启动...")
    # 模拟检查服务状态
    attempt += 1
    time.sleep(1)
else:
    if service_up:
        print("服务已启动")
    else:
        print("服务未启动，超时退出")
```

✅ **讲解**：

* `else` 块在循环正常结束时执行（未被 break 中断）
* `not service_up` 逻辑判断是否继续循环

---

# **四、循环控制语句**

1. **break**：跳出循环

```python
for i in range(1, 6):
    if i == 3:
        break
    print(i)  # 输出 1,2
```

2. **continue**：跳过当前循环，进入下一次

```python
for i in range(1, 6):
    if i == 3:
        continue
    print(i)  # 输出 1,2,4,5
```

3. **else（循环结束执行）**：

```python
for i in range(3):
    print(i)
else:
    print("循环结束")
```

* **for/while** 的 `else` 在循环没有被 `break` 打断时执行

---

# **五、循环语句在运维脚本中的应用**

1. **批量服务器检查**

   * 遍历服务器列表，检查 CPU、内存或端口状态

2. **日志处理**

   * 遍历日志目录，查找 `.log` 文件
   * 统计日志条数或大小

3. **定时任务/等待机制**

   * `while` 循环等待服务启动或任务完成
   * 可配合 `time.sleep()` 控制间隔

---

# **六、练习题**

### **练习 1：遍历服务器列表**

```python
servers = ["web01", "db01", "cache01"]
# 遍历列表，打印 "{server} 正在检查状态"
```

### **练习 2：遍历数字**

```python
# 打印 1~10 的平方数
```

### **练习 3：统计日志文件大小**

```python
import os
logs = ["/var/log/app1.log", "/var/log/app2.log"]
# 循环计算每个日志大小，并累加总大小
```

### **练习 4：while 循环重试**

```python
# 模拟 HTTP 请求重试，最多尝试 3 次
# 打印每次尝试状态，失败后提示“请求失败”
```

---

我可以帮你整理一份 **“循环语句综合练习题及参考答案”**，把 **for/while、break/continue/else、逻辑判断** 全部结合成练习题，并给出详细讲解，便于你实际操作。

你希望我整理吗？

好的，我帮你整理了一份 **Python 循环语句（for / while）综合练习题及参考答案**，涵盖 `for`、`while`、`break/continue/else`、逻辑判断等，适合运维和日常脚本练习。

---

# **一、循环语句综合练习题**

---

### **题目 1：遍历服务器列表**

有一组服务器列表 `servers = ["web01", "db01", "cache01"]`，使用 **for 循环**打印：

```
web01 正在检查状态
db01 正在检查状态
cache01 正在检查状态
```

---

### **题目 2：计算数字平方**

使用 **for 循环**打印 1~10 的平方数：

```
1 的平方是 1
2 的平方是 4
...
10 的平方是 100
```

---

### **题目 3：统计日志文件总大小**

```python
logs = ["/var/log/app1.log", "/var/log/app2.log"]
```

* 使用循环获取每个日志文件大小（字节）
* 累加得到总大小，并打印

---

### **题目 4：while 循环重试**

* 模拟 HTTP 请求重试，最多尝试 3 次
* 打印每次尝试状态
* 若三次都失败，输出 `"请求失败"`

---

### **题目 5：使用 break 和 continue**

* 遍历 1~10 的数字
* 遇到 3 跳过（continue）
* 遇到 8 停止循环（break）
* 输出循环执行的数字

---

# **二、循环语句参考答案及讲解**

---

### **题目 1：遍历服务器列表**

```python
servers = ["web01", "db01", "cache01"]

for server in servers:
    print(f"{server} 正在检查状态")
```

✅ **讲解**：

* `for server in servers` 遍历列表
* 每次循环将列表元素赋值给 `server`

---

### **题目 2：计算数字平方**

```python
for i in range(1, 11):
    print(f"{i} 的平方是 {i**2}")
```

✅ **讲解**：

* `range(1, 11)` 生成 1~10 的整数序列
* `i**2` 计算平方

---

### **题目 3：统计日志文件总大小**

```python
import os

logs = ["/var/log/app1.log", "/var/log/app2.log"]
total_size = 0

for log_file in logs:
    if os.path.exists(log_file):
        size = os.path.getsize(log_file)
        total_size += size
        print(f"{log_file} 大小: {size} 字节")
    else:
        print(f"{log_file} 不存在")

print(f"日志总大小: {total_size} 字节")
```

✅ **讲解**：

* `os.path.exists()` 判断文件是否存在
* `os.path.getsize()` 获取文件大小
* 循环累加总大小

---

### **题目 4：while 循环重试**

```python
import random
import time

max_retries = 3
attempt = 0
success = False

while attempt < max_retries:
    attempt += 1
    print(f"第 {attempt} 次尝试请求...")
    # 模拟请求成功率 50%
    if random.random() > 0.5:
        success = True
        print("请求成功")
        break
    else:
        print("请求失败，重试...")
        time.sleep(1)

if not success:
    print("请求失败，达到最大重试次数")
```

✅ **讲解**：

* `while` 条件控制循环次数
* `break` 遇成功立即跳出
* 循环完成后通过 `if not success` 判断最终状态

---

### **题目 5：使用 break 和 continue**

```python
for i in range(1, 11):
    if i == 3:
        continue  # 跳过 3
    if i == 8:
        break     # 停止循环
    print(i)
```

✅ **讲解**：

* `continue` 跳过本次循环
* `break` 终止整个循环
* 输出结果：1,2,4,5,6,7

---

# **三、拓展练习建议**

1. **批量服务器检查**：遍历服务器列表，用循环结合条件判断 CPU、内存使用率
2. **日志清理**：循环遍历日志文件，删除超过阈值的文件
3. **服务端口检查**：循环遍历端口列表，用 while 循环重试连接

---

如果你愿意，我可以帮你整理一份 **“条件语句 + 循环 + 函数综合运维练习题”**，把 **if/elif/else、for/while、函数封装**结合起来做完整的运维脚本练习，非常适合动手实战。

你希望我整理吗？


好的，我帮你整理了一份 **Python 循环语句（for / while）综合练习题及参考答案**，涵盖 `for`、`while`、`break/continue/else`、逻辑判断等，适合运维和日常脚本练习。

---

# **一、循环语句综合练习题**

---

### **题目 1：遍历服务器列表**

有一组服务器列表 `servers = ["web01", "db01", "cache01"]`，使用 **for 循环**打印：

```
web01 正在检查状态
db01 正在检查状态
cache01 正在检查状态
```

---

### **题目 2：计算数字平方**

使用 **for 循环**打印 1~10 的平方数：

```
1 的平方是 1
2 的平方是 4
...
10 的平方是 100
```

---

### **题目 3：统计日志文件总大小**

```python
logs = ["/var/log/app1.log", "/var/log/app2.log"]
```

* 使用循环获取每个日志文件大小（字节）
* 累加得到总大小，并打印

---

### **题目 4：while 循环重试**

* 模拟 HTTP 请求重试，最多尝试 3 次
* 打印每次尝试状态
* 若三次都失败，输出 `"请求失败"`

---

### **题目 5：使用 break 和 continue**

* 遍历 1~10 的数字
* 遇到 3 跳过（continue）
* 遇到 8 停止循环（break）
* 输出循环执行的数字

---

# **二、循环语句参考答案及讲解**

---

### **题目 1：遍历服务器列表**

```python
servers = ["web01", "db01", "cache01"]

for server in servers:
    print(f"{server} 正在检查状态")
```

✅ **讲解**：

* `for server in servers` 遍历列表
* 每次循环将列表元素赋值给 `server`

---

### **题目 2：计算数字平方**

```python
for i in range(1, 11):
    print(f"{i} 的平方是 {i**2}")
```

✅ **讲解**：

* `range(1, 11)` 生成 1~10 的整数序列
* `i**2` 计算平方

---

### **题目 3：统计日志文件总大小**

```python
import os

logs = ["/var/log/app1.log", "/var/log/app2.log"]
total_size = 0

for log_file in logs:
    if os.path.exists(log_file):
        size = os.path.getsize(log_file)
        total_size += size
        print(f"{log_file} 大小: {size} 字节")
    else:
        print(f"{log_file} 不存在")

print(f"日志总大小: {total_size} 字节")
```

✅ **讲解**：

* `os.path.exists()` 判断文件是否存在
* `os.path.getsize()` 获取文件大小
* 循环累加总大小

---

### **题目 4：while 循环重试**

```python
import random
import time

max_retries = 3
attempt = 0
success = False

while attempt < max_retries:
    attempt += 1
    print(f"第 {attempt} 次尝试请求...")
    # 模拟请求成功率 50%
    if random.random() > 0.5:
        success = True
        print("请求成功")
        break
    else:
        print("请求失败，重试...")
        time.sleep(1)

if not success:
    print("请求失败，达到最大重试次数")
```

✅ **讲解**：

* `while` 条件控制循环次数
* `break` 遇成功立即跳出
* 循环完成后通过 `if not success` 判断最终状态

---

### **题目 5：使用 break 和 continue**

```python
for i in range(1, 11):
    if i == 3:
        continue  # 跳过 3
    if i == 8:
        break     # 停止循环
    print(i)
```

✅ **讲解**：

* `continue` 跳过本次循环
* `break` 终止整个循环
* 输出结果：1,2,4,5,6,7

---

# **三、拓展练习建议**

1. **批量服务器检查**：遍历服务器列表，用循环结合条件判断 CPU、内存使用率
2. **日志清理**：循环遍历日志文件，删除超过阈值的文件
3. **服务端口检查**：循环遍历端口列表，用 while 循环重试连接

---

如果你愿意，我可以帮你整理一份 **“条件语句 + 循环 + 函数综合运维练习题”**，把 **if/elif/else、for/while、函数封装**结合起来做完整的运维脚本练习，非常适合动手实战。

你希望我整理吗？
