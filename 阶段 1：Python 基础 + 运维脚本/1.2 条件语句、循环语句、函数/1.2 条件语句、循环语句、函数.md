# **Python 基础核心逻辑**
条件语句、循环语句、函数。这三部分是写运维脚本、监控脚本的核心工具。

 **详细讲解 + 示例 + 小练习**。

---

#  Python 条件语句、循环语句、函数

---

## **1️ 条件语句 (if/elif/else)**

条件语句用于根据不同条件执行不同逻辑。

### 基本语法

```python
if 条件:
    执行代码块
elif 其他条件:
    执行代码块
else:
    执行代码块
```

### 示例 1：CPU 告警

```python
cpu_usage = 85

if cpu_usage > 90:
    print("🚨 CPU 高级告警")
elif cpu_usage > 80:
    print("⚠️ CPU 普通告警")
else:
    print("✅ CPU 正常")
```

### 示例 2：检查服务状态

```python
service_status = "stopped"

if service_status == "running":
    print("服务正常")
else:
    print("服务停止")
```

---

## **2️ 循环语句 (for / while)**

循环用于重复执行代码。

### **for 循环**（遍历序列）

```python
services = ["auth", "payment", "monitoring"]

for svc in services:
    print(f"检查服务: {svc}")
```

### **while 循环**（条件循环）

```python
x = 5
while x > 0:
    print(f"倒计时: {x}")
    x -= 1
```

### **循环控制**

* `break`：跳出循环
* `continue`：跳过本次循环

```python
for i in range(5):
    if i == 3:
        continue  # 跳过 3
    if i == 4:
        break     # 循环结束
    print(i)
```

---

## **3️⃣ 函数 (Function)**

函数用于封装逻辑，方便重复调用。

### 基本语法

```python
def 函数名(参数):
    """函数说明"""
    执行代码
    return 返回值
```

### 示例 1：计算 CPU 告警等级

```python
def check_cpu(cpu):
    if cpu > 90:
        return "🚨 高级告警"
    elif cpu > 80:
        return "⚠️ 普通告警"
    else:
        return "✅ 正常"

print(check_cpu(75))  # ✅ 正常
print(check_cpu(85))  # ⚠️ 普通告警
```

### 示例 2：返回多个值

```python
def get_metrics():
    cpu = 85
    memory = 70
    return cpu, memory

cpu, memory = get_metrics()
print(f"CPU={cpu}%, Memory={memory}%")
```

---

## **4️⃣ 小练习**

1. 写一个函数 `check_memory(memory)`，内存 > 80 输出 `"⚠️ 内存高"`，否则 `"✅ 内存正常"`。
2. 遍历服务列表 `["auth","payment","monitoring"]`，打印每个服务状态为 `"running"`。
3. 写一个 while 循环模拟倒计时 10 秒，打印每秒倒计时数字。
4. 写一个函数 `check_service(service, cpu, memory)`，根据 CPU/Memory 阈值输出告警信息。

---

如果你愿意，我可以帮你写 **一个完整运维小脚本**，把 **条件判断 + 循环 + 函数**结合起来，
实现 **多服务 CPU/Memory 模拟监控 + 告警输出 + 日志记录**，这样边学边实践更有效。

你希望我帮你做吗？
